(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[98],{"9Qyn":function(e,t,a){e.exports={"document-title":"document-title--2hjCd",documentTitle:"document-title--2hjCd","document-line":"document-line--1e2bH",documentLine:"document-line--1e2bH"}},BdiA:function(e,t,a){"use strict";var o=a("PQTe");t.a=e=>({type:o.e,show:e})},DHZf:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return s}));const o=1e4,n=4e4,i=15e3,r=1,s=2},ERE2:function(e,t,a){"use strict";var o=a("q1tI"),n=a.n(o),i=a("17x9"),r=a.n(i),s=a("Elhd"),l=a.n(s),d=a("d2gv"),c=a.n(d),u=a("oVFL");const p={size:r.a.oneOf(["medium","wide"]),color:r.a.oneOf(["light","premium"]),isPaymentTrial:r.a.bool.isRequired,dataTestSelector:r.a.string};function m({size:e="medium",color:t="premium",isPaymentTrial:a,dataTestSelector:o="document-preview-message-upgrade-button"}){let i,r;return a?(i=c.a.get("get_free_trial"),r=l.a.route("payment30DayTrial")):(i=c.a.get("upgrade"),r=l.a.route("payment")),n.a.createElement(u.a,{size:e,color:t,origin:"viewer-overlay",upgradeRoute:r,dataTestSelector:o},i)}m.propTypes=p,t.a=n.a.memo(m)},HD3w:function(e,t,a){"use strict";var o=a("q1tI"),n=a.n(o),i=a("17x9"),r=a.n(i),s=a("Elhd"),l=a.n(s),d=a("d2gv"),c=a.n(d),u=a("IP2g"),p=a("oVFL");const m={size:r.a.oneOf(["medium","wide"]),color:r.a.oneOf(["light","primary"]),dataTestSelector:r.a.string};function g({size:e="medium",color:t="primary",dataTestSelector:a="preview-message-upload-cta"}){return n.a.createElement(p.a,{size:e,color:t,upgradeRoute:l.a.route("documentUpload"),origin:"viewer-overlay",dataTestSelector:a},n.a.createElement(u.a,{icon:"cloud-upload-alt"}),n.a.createElement("span",null," "),c.a.get("upload"))}g.propTypes=m,t.a=n.a.memo(g)},HxAO:function(e,t,a){"use strict";var o=a("0pXI");var n=e=>t=>t(Object(o.a)("Share Document Button Clicked",{"Click Origin":e})),i=a("nQnF");t.a=e=>t=>(t(n(e)),t(Object(i.a)(!0)))},IrSZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return r}));const o=e=>e.document.current,n=e=>o(e).id,i=e=>o(e).isPremium,r=e=>o(e).pages},Is3H:function(e,t,a){e.exports={"download-popup":"download-popup--3RgEo",downloadPopup:"download-popup--3RgEo","download-popup-heading":"download-popup-heading--1z4Eu",downloadPopupHeading:"download-popup-heading--1z4Eu","download-popup-body":"download-popup-body--3Btko",downloadPopupBody:"download-popup-body--3Btko","upgrade-options":"upgrade-options--u0iW9",upgradeOptions:"upgrade-options--u0iW9","upgrade-option":"upgrade-option--S6oJy",upgradeOption:"upgrade-option--S6oJy","upgrade-option-title":"upgrade-option-title--3JTZa",upgradeOptionTitle:"upgrade-option-title--3JTZa","upgrade-option-text":"upgrade-option-text--tFZRJ",upgradeOptionText:"upgrade-option-text--tFZRJ","maybe-later-button":"maybe-later-button--1yB7L",maybeLaterButton:"maybe-later-button--1yB7L","close-popup-button":"close-popup-button--3sAor",closePopupButton:"close-popup-button--3sAor"}},Nm4g:function(e,t,a){e.exports={"pop-up":"pop-up--16VXQ",popUp:"pop-up--16VXQ","close-button":"close-button--1dBe8",closeButton:"close-button--1dBe8",title:"title--3lXqD",message:"message--HG-Mm",icon:"icon--3kKjO"}},PAzC:function(e,t,a){"use strict";var o=a("lSNA"),n=a.n(o),i=a("q1tI"),r=a.n(i),s=a("TSYQ"),l=a.n(s),d=a("/MKj"),c=a("YcKG"),u=a.n(c),p=a("Elhd"),m=a.n(p),g=a("d2gv"),h=a.n(g),w=a("17x9"),b=a.n(w),v=a("IP2g"),y=a("rpeB"),C=a.n(y),E=a("vDqi"),D=a.n(E);var T=e=>()=>D.a.post(m.a.route("api.metrics.downloadclicks.store",{documentId:e}),{}),f=a("0pXI");var R=(e,t)=>(a,o)=>Promise.all([a(T(e.properties["Document ID"])),a(Object(f.a)("Document Download Clicked",{...e.properties,Origin:t}))]),P=a("R0Da"),_=a("Ts+D");var U=(e,t,a)=>o=>Promise.race([o(R(e,t)),Object(P.a)(_.WAIT_TIME_SHORT)]).finally(()=>{window.location.href=a}),S=a("ZoqJ"),O=a("Q7Nm"),N=a("Nm4g"),k=a.n(N),I=a("2iE4"),H=a("xZ14");const L={className:b.a.string};function V({className:e}){return r.a.createElement("svg",{className:e,width:"240",height:"240",viewBox:"0 0 240 240",fill:"none"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M120 240C186.274 240 240 186.274 240 120C240 53.7258 186.274 0 120 0C53.7258 0 0 53.7258 0 120C0 186.274 53.7258 240 120 240Z",fill:"#EEC064"}),r.a.createElement("path",{d:"M52.0002 104C52.0002 101.791 53.7911 100 56.0002 100H184C186.209 100 188 101.791 188 104V188H52.0002V104Z",fill:"#63C689",stroke:"#353B43",strokeWidth:"7"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M74 61C74 59.3431 75.3431 58 77 58H163C164.657 58 166 59.3431 166 61V171C166 172.657 164.657 174 163 174H77C75.3431 174 74 172.657 74 171V61Z",fill:"white"}),r.a.createElement("rect",{x:"86",y:"74",width:"22.6667",height:"5.32151",rx:"1",fill:"#D8D8D8"}),r.a.createElement("rect",{x:"86",y:"82.8691",width:"41.8462",height:"5.32151",rx:"1",fill:"#D8D8D8"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86 103.268C86 102.778 86.3971 102.381 86.8869 102.381H142.652C143.141 102.381 143.538 102.778 143.538 103.268V103.268C143.538 103.758 143.141 104.155 142.652 104.155H86.8869C86.3971 104.155 86 103.758 86 103.268V103.268Z",fill:"#D8D8D8"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86 108.59C86 108.1 86.3971 107.703 86.8869 107.703H149.626C150.116 107.703 150.513 108.1 150.513 108.59V108.59C150.513 109.08 150.116 109.477 149.626 109.477H86.8869C86.3971 109.477 86 109.08 86 108.59V108.59Z",fill:"#D8D8D8"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86 113.911C86 113.422 86.3971 113.024 86.8869 113.024H153.113C153.603 113.024 154 113.422 154 113.911V113.911C154 114.401 153.603 114.798 153.113 114.798H86.8869C86.3971 114.798 86 114.401 86 113.911V113.911Z",fill:"#D8D8D8"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86 119.233C86 118.743 86.3971 118.346 86.8869 118.346H146.139C146.629 118.346 147.026 118.743 147.026 119.233V119.233C147.026 119.723 146.629 120.12 146.139 120.12H86.8869C86.3971 120.12 86 119.723 86 119.233V119.233Z",fill:"#D8D8D8"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86 124.554C86 124.064 86.3971 123.667 86.8869 123.667H151.369C151.859 123.667 152.256 124.064 152.256 124.554V124.554C152.256 125.044 151.859 125.441 151.369 125.441H86.8869C86.3971 125.441 86 125.044 86 124.554V124.554Z",fill:"#D8D8D8"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86 129.876C86 129.386 86.3971 128.989 86.8869 128.989H149.626C150.116 128.989 150.513 129.386 150.513 129.876V129.876C150.513 130.366 150.116 130.763 149.626 130.763H86.8869C86.3971 130.763 86 130.366 86 129.876V129.876Z",fill:"#D8D8D8"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86 135.197C86 134.708 86.3971 134.31 86.8869 134.31H153.113C153.603 134.31 154 134.708 154 135.197V135.197C154 135.687 153.603 136.084 153.113 136.084H86.8869C86.3971 136.084 86 135.687 86 135.197V135.197Z",fill:"#D8D8D8"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86 140.519C86 140.029 86.3971 139.632 86.8869 139.632H146.139C146.629 139.632 147.026 140.029 147.026 140.519V140.519C147.026 141.009 146.629 141.406 146.139 141.406H86.8869C86.3971 141.406 86 141.009 86 140.519V140.519Z",fill:"#D8D8D8"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86 157.197C86 156.708 86.3971 156.31 86.8869 156.31H153.113C153.603 156.31 154 156.708 154 157.197V157.197C154 157.687 153.603 158.084 153.113 158.084H86.8869C86.3971 158.084 86 157.687 86 157.197V157.197Z",fill:"#D8D8D8"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86 162.519C86 162.029 86.3971 161.632 86.8869 161.632H146.139C146.629 161.632 147.026 162.029 147.026 162.519V162.519C147.026 163.009 146.629 163.406 146.139 163.406H86.8869C86.3971 163.406 86 163.009 86 162.519V162.519Z",fill:"#D8D8D8"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86 145.84C86 145.351 86.3971 144.953 86.8869 144.953H146.139C146.629 144.953 147.026 145.351 147.026 145.84V145.84C147.026 146.33 146.629 146.727 146.139 146.727H86.8869C86.3971 146.727 86 146.33 86 145.84V145.84Z",fill:"#D8D8D8"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86 150.887C86 150.397 86.3971 150 86.8869 150H148.113C148.603 150 149 150.397 149 150.887V150.887C149 151.377 148.603 151.774 148.113 151.774H86.8869C86.3971 151.774 86 151.377 86 150.887V150.887Z",fill:"#D8D8D8"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M158 48C148.059 48 140 56.0589 140 66C140 75.9411 148.059 84 158 84C167.941 84 176 75.9411 176 66C176 56.0589 167.941 48 158 48Z",fill:"#63C689"}),r.a.createElement("path",{d:"M159 73.375C158.687 73.758 158.445 74 158 74C157.555 74 157.312 73.758 157 73.375L152.54 68C152.287 67.695 152 67.461 152 67C152 66.375 152.516 66 153 66L156 66L156 59C156 58.45 156.45 58 157 58L159 58C159.55 58 160 58.45 160 59L160 66L163 66C163.484 66 164 66.375 164 67C164 67.461 163.713 67.695 163.46 68L159 73.375Z",fill:"white"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.118 187.578C35.6489 186.916 36.1225 186 36.934 186H203.066C203.878 186 204.352 186.916 203.882 187.578L203.44 188.202C201.753 190.584 199.015 192 196.096 192H43.9043C40.9852 192 38.2474 190.584 36.5601 188.202L36.118 187.578Z",fill:"#434A54"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M108 186H132V186C132 187.105 131.105 188 130 188H110C108.896 188 108 187.105 108 186V186Z",fill:"#747F8E"}))}V.propTypes=L;var B=r.a.memo(V);const q={limitMessage:b.a.string.isRequired,onHide:b.a.func.isRequired};function x({limitMessage:e,onHide:t}){return r.a.createElement(O.UniversalPortal,{selector:"#viewer-wrapper"},r.a.createElement(H.a,{show:!0,onClick:t}),r.a.createElement("div",{className:k.a.popUp},r.a.createElement("button",{onClick:t,className:k.a.closeButton},r.a.createElement(v.a,{icon:"times"})),r.a.createElement("div",{className:k.a.message},r.a.createElement(B,{className:k.a.icon}),r.a.createElement("div",{className:k.a.title},e),r.a.createElement(I.c,{size:"minimum",color:"link",onClick:t},h.a.get("i_will_download_it_later")))))}x.propTypes=q;var j=x;class M extends i.PureComponent{render(){return r.a.createElement(O.UniversalPortal,{selector:"#viewer-wrapper"},r.a.createElement(H.a,{show:!0,onClick:this.props.onHide}),r.a.createElement("div",{className:k.a.popUp},r.a.createElement("button",{onClick:this.props.onHide,className:k.a.closeButton},r.a.createElement(v.a,{icon:"times"})),r.a.createElement("div",{className:k.a.message},r.a.createElement(B,{className:k.a.icon}),r.a.createElement("div",{className:k.a.title},this.props.title),this.props.subTitle,this.props.extraText,this.props.button,this.props.bottomLink)))}}n()(M,"propTypes",{title:b.a.string.isRequired,subTitle:b.a.element,button:b.a.element,extraText:b.a.element,bottomLink:b.a.element,onHide:b.a.func.isRequired});var A=M;class z extends i.Component{render(){let e,t;if(this.props.paymentPlans&&this.props.paymentPlans.length&&this.props.paymentPlans[0]&&this.props.paymentPlans[0].price&&this.props.paymentPlans[0].currency_code){const t=(this.props.paymentPlans[0].price/100).toLocaleString(this.props.formatLanguage,{style:"currency",currency:this.props.paymentPlans[0].currency_code});e=r.a.createElement("p",null,h.a.get("start_subscription_disclaimer",{price:t}))}return t=[1,3,5].includes(parseInt(this.props.testTrialDownloads2))?h.a.choice("trial_includes_x_downloads",parseInt(this.props.testTrialDownloads2),{count:parseInt(this.props.testTrialDownloads2)}):h.a.get("trial_download_subtitle"),r.a.createElement(A,{onHide:this.props.onHide,title:h.a.get("unlimited_downloads"),subTitle:r.a.createElement("p",null,t),button:r.a.createElement("div",{className:"mb1x"},r.a.createElement(I.f,{onClick:this.props.onAccept},h.a.get("start_subscription_now"))),bottomLink:r.a.createElement(I.c,{size:"minimum",color:"link",onClick:this.props.onHide},h.a.get("maybe_later")),extraText:e})}}n()(z,"propTypes",{formatLanguage:b.a.string,paymentPlans:b.a.array,onAccept:b.a.func,onHide:b.a.func,testTrialDownloads2:b.a.string});var Z=z,F=a("VBI1");const Q={onHide:b.a.func.isRequired,testTrialDownloads2:b.a.string};function X({onHide:e,testTrialDownloads2:t=null}){return r.a.createElement(A,{onHide:e,title:h.a.get("unlimited_downloads"),subTitle:r.a.createElement("p",null,h.a.get("upgrade_for_unlimited_downloads")),button:r.a.createElement("div",{className:"mb1x"},r.a.createElement(F.a,{color:"primary",origin:"download-button",upgradeRoute:[1,3,5].includes(parseInt(t,10))?m.a.route("payment30DayTrial"):m.a.route("payment"),dataTestSelector:"download-upgrade-popup-confirm-button"},h.a.get("upgrade_now"))),bottomLink:r.a.createElement(I.c,{size:"minimum",color:"link",onClick:e},h.a.get("maybe_later"))})}X.propTypes=Q;var K=r.a.memo(X),G=a("B4Ce"),W=a("qzR4");const Y=e=>Boolean(e.document.current.dailyLimitReached||e.document.current.monthlyLimitReached),J=e=>Boolean(!Y(e)&&e.user.isLoggedIn&&e.user.isPremium&&e.user.userInTrial&&e.user.isTrialDownloadsLimitReached),$=W.f,ee=e=>Boolean(!Y(e)&&!J(e)&&"Pay"===e.document.current.downloadCTA),te=e=>Boolean(e.user.isLoggedIn&&((e=>Boolean(!Y(e)&&e.user.isPremium&&(!e.user.userInTrial||e.user.userInTrial&&!e.user.isTrialDownloadsLimitReached)))(e)||(e=>Boolean(e.user.isStaff||e.user.isAlumni||e.document.current.isMine))(e)||e.document.current.allowDownload)),ae=e=>Boolean(!te(e)&&(Y(e)||J(e)||ee(e)||$(e)));var oe=a("IrSZ"),ne=a("Ah4X");const ie={onHide:b.a.func.isRequired};function re({onHide:e}){const t=Object(d.useSelector)(oe.a),a=Object(d.useSelector)(e=>e.payment.plans),o=Object(ne.c)(),n=Object(d.useSelector)(e=>e.ab.testTrialDownloads2),s=Object(d.useSelector)(Y),l=Object(d.useSelector)(J),c=Object(d.useSelector)(ee),u=Object(d.useSelector)($),p=Object(d.useSelector)(W.g),m=Object(d.useDispatch)(),g=Object(i.useCallback)(()=>m(Object(S.a)(t.id)),[m,t.id]);return u?r.a.createElement(G.a,{show:!0,onHide:e,recurringPayment:p,origin:"Viewer - Download"}):s?r.a.createElement(j,{limitMessage:t.monthlyLimitReached?h.a.get("your_have_reached_the_maximum_monthly_limit"):h.a.get("your_have_reached_the_maximum_daily_limit"),onHide:e}):l?r.a.createElement(Z,{onHide:e,formatLanguage:o,paymentPlans:a,testTrialDownloads2:n,onAccept:g}):c?r.a.createElement(K,{testTrialDownloads2:n,onHide:e}):null}re.propTypes=ie;var se=r.a.memo(re),le=a("Is3H"),de=a.n(le),ce=a("RekT"),ue=a("HD3w"),pe=a("ERE2");const me={isPaymentCTA:b.a.bool.isRequired,isPaymentTrial:b.a.bool.isRequired,isUserLoggedIn:b.a.bool.isRequired,onHide:b.a.func.isRequired};function ge({isPaymentCTA:e,isPaymentTrial:t,isUserLoggedIn:a,onHide:o}){return r.a.createElement(O.UniversalPortal,{selector:"#viewer-wrapper"},r.a.createElement(H.a,{show:!0,onClick:o}),r.a.createElement("div",{className:de.a.downloadPopup},r.a.createElement("button",{onClick:o,className:de.a.closePopupButton,type:"button"},r.a.createElement(v.a,{icon:"times"})),r.a.createElement("div",{className:de.a.downloadPopupHeading},r.a.createElement(I.t,{color:"white",component:"p",className:"h2-stu"},h.a.get("unlimited_downloads")),r.a.createElement(I.t,{color:"white",size:"small"},r.a.createElement("span",null," "),h.a.get("upgrade_premium_today"))),r.a.createElement("div",{className:de.a.downloadPopupBody},r.a.createElement("div",{className:de.a.upgradeOptions},!e&&r.a.createElement(i.Fragment,null,r.a.createElement("div",{className:de.a.upgradeOption},r.a.createElement(we,null),r.a.createElement(ve,null),r.a.createElement(ue.a,{size:"wide",dataTestSelector:"download-popup-upload-first-cta"})),r.a.createElement("div",{className:de.a.upgradeOption},r.a.createElement(be,null),r.a.createElement(ye,{isPaymentTrial:t}),r.a.createElement(pe.a,{size:"wide",color:"light",dataTestSelector:"download-popup-upgrade-second-cta",isPaymentTrial:t}))),e&&r.a.createElement(i.Fragment,null,r.a.createElement("div",{className:de.a.upgradeOption},r.a.createElement(we,null),r.a.createElement(ye,{isPaymentTrial:t}),r.a.createElement(pe.a,{size:"wide",dataTestSelector:"download-popup-upgrade-first-cta",isPaymentTrial:t})),r.a.createElement("div",{className:de.a.upgradeOption},r.a.createElement(be,null),r.a.createElement(ve,null),r.a.createElement(ue.a,{size:"wide",color:"light",dataTestSelector:"download-popup-upload-second-cta"})))),!a&&r.a.createElement(ce.a,null),r.a.createElement(I.c,{size:"minimum",color:"secondary",onClick:o,className:de.a.maybeLaterButton},h.a.get("maybe_later")))))}ge.propTypes=me;var he=r.a.memo(ge);const we=r.a.memo(()=>r.a.createElement(I.t,{size:"small",color:"white",component:"div",className:de.a.upgradeOptionTitle},h.a.get("preview_banner_upgrade_option_1"))),be=r.a.memo(()=>r.a.createElement(I.t,{size:"small",color:"white",component:"div",className:de.a.upgradeOptionTitle},h.a.get("preview_banner_upgrade_option_2"))),ve=r.a.memo(()=>r.a.createElement(I.t,{size:"big",color:"white",weight:"bold",component:"div",className:de.a.upgradeOptionText},h.a.get("upgrade_by_sharing"))),ye=r.a.memo(({isPaymentTrial:e})=>r.a.createElement(I.t,{size:"big",color:"white",weight:"bold",component:"div",className:de.a.upgradeOptionText},e?h.a.get("upgrade_by_trial"):h.a.get("upgrade_by_subscribing")));ye.propTypes={isPaymentTrial:b.a.bool.isRequired};var Ce=a("ihwh"),Ee=a.n(Ce);const De={onHide:b.a.func.isRequired,isUserLoggedIn:b.a.bool.isRequired,isPaymentTrial:b.a.bool.isRequired,showOptionTwo:b.a.bool.isRequired};function Te({isUserLoggedIn:e,isPaymentTrial:t,showOptionTwo:a,onHide:o}){return r.a.createElement(O.UniversalPortal,{selector:"#viewer-wrapper"},r.a.createElement(H.a,{show:!0,onClick:o}),r.a.createElement("div",{className:Ee.a.downloadPopup},r.a.createElement("button",{onClick:o,className:Ee.a.closePopupButton,type:"button"},r.a.createElement(v.a,{icon:"times"})),r.a.createElement("div",{className:Ee.a.downloadPopupHeading},r.a.createElement(I.t,{color:"white",component:"h2",className:"h2-stu"},h.a.get("unlimited_downloads")),r.a.createElement(I.t,{color:"white",size:"small"},h.a.get("upgrade_for_unlimited_downloads"))),r.a.createElement("div",{className:Ee.a.downloadPopupBody},r.a.createElement("div",{className:Ee.a.upgradeOptions},r.a.createElement(Re,null),r.a.createElement(pe.a,{size:"wide",isPaymentTrial:t,dataTestSelector:"download-popup-upgrade-first-cta"}),a&&r.a.createElement(Pe,null)),!e&&r.a.createElement(ce.a,null),r.a.createElement(I.c,{size:"minimum",color:"secondary",onClick:o,className:Ee.a.maybeLaterButton},h.a.get("maybe_later")))))}Te.propTypes=De;var fe=r.a.memo(Te);const Re=r.a.memo(()=>r.a.createElement(I.t,{size:"big",color:"white",weight:"bold",component:"div",className:Ee.a.upgradeOptionText},h.a.get("download_popup_upgrade_pay_text"))),Pe=r.a.memo(()=>r.a.createElement("a",{href:m.a.route("documentUpload",{origin:"viewer-overlay"})},r.a.createElement(I.t,{size:"small",color:"white",weight:"bold",component:"div",className:Ee.a.upgradeOptionTitle},h.a.get("preview_banner_upgrade_option_2_upload")))),_e={downloadClickedEvent:b.a.object.isRequired,className:b.a.string,downloadUrl:b.a.string.isRequired,testDownloadPopUp:b.a.string,testStage4UpgradeBanner:b.a.string,dispatch:b.a.func.isRequired,layout:b.a.oneOf(["green-button","transparent-button"]).isRequired,origin:b.a.oneOf(["topbar","toolbar"]).isRequired,isDownloadAuthorized:b.a.bool.isRequired,shouldShowDownloadPopUp:b.a.bool.isRequired,dataTestSelector:b.a.string.isRequired,isUserLoggedIn:b.a.bool.isRequired,isPaymentTrial:b.a.bool.isRequired};class Ue extends i.Component{constructor(...e){super(...e),n()(this,"state",{isPopUpVisible:!1,isChoicePopUpVisible:!1,isFocusedChoicePopUpVisible:!1}),n()(this,"handleRedirect",()=>{const{href:e,isTargetSelf:t}=this.getDownloadLinkLocation();t?this.props.dispatch(U(this.props.downloadClickedEvent,this.props.origin,e)):(this.props.dispatch(R(this.props.downloadClickedEvent,this.props.origin)),window.open(e))}),n()(this,"getDownloadLinkLocation",()=>this.props.isDownloadAuthorized?{isTargetSelf:!1,href:this.props.downloadUrl}:{isTargetSelf:!0,href:m.a.route("documentUpload",{origin:"download-button"})}),n()(this,"handleHidePopUp",()=>{this.setState({isPopUpVisible:!1})}),n()(this,"handleHideChoicePopUp",()=>{this.setState({isChoicePopUpVisible:!1})}),n()(this,"handleHideFocusedChoicePopUp",()=>{this.setState({isFocusedChoicePopUpVisible:!1})}),n()(this,"handleShowChoicePopUp",()=>{this.props.dispatch(R(this.props.downloadClickedEvent,this.props.origin)),"Focused CTA"===this.props.testStage4UpgradeBanner||"Single CTA"===this.props.testStage4UpgradeBanner?this.setState({isFocusedChoicePopUpVisible:!0}):this.setState({isChoicePopUpVisible:!0})}),n()(this,"handleShowPopUp",()=>{this.props.dispatch(R(this.props.downloadClickedEvent,this.props.origin)),this.setState({isPopUpVisible:!0})}),n()(this,"handleClick",()=>{"Pop Up"===this.props.testDownloadPopUp?this.handleShowChoicePopUp():this.props.shouldShowDownloadPopUp?this.handleShowPopUp():this.handleRedirect()})}render(){return r.a.createElement(i.Fragment,null,r.a.createElement("button",{type:"button",className:l()(this.props.className,C.a.button,{[C.a.green]:"green-button"===this.props.layout}),onClick:this.handleClick},r.a.createElement(v.a,{icon:"cloud-download-alt"}),r.a.createElement("span",{className:l()(C.a.text,"hidden-xs")},"Â ",h.a.get("download"))),this.state.isPopUpVisible&&r.a.createElement(se,{onHide:this.handleHidePopUp}),this.state.isChoicePopUpVisible&&r.a.createElement(he,{isPaymentCTA:this.props.shouldShowDownloadPopUp,isPaymentTrial:this.props.isPaymentTrial,isUserLoggedIn:this.props.isUserLoggedIn,onHide:this.handleHideChoicePopUp}),this.state.isFocusedChoicePopUpVisible&&r.a.createElement(fe,{showOptionTwo:"Focused CTA"===this.props.testStage4UpgradeBanner,isUserLoggedIn:this.props.isUserLoggedIn,isPaymentTrial:this.props.isPaymentTrial,onHide:this.handleHideFocusedChoicePopUp}))}}Ue.propTypes=_e,Ue.defaultProps={className:null,testDownloadPopUp:null,testStage4UpgradeBanner:null};t.a=Object(d.connect)(e=>({isDownloadAuthorized:te(e),shouldShowDownloadPopUp:ae(e),downloadUrl:u.a.document(e.document.current,"Download"),downloadClickedEvent:e.segment.events["Document Download Clicked"],testStage4UpgradeBanner:e.ab.testStage4UpgradeBanner,testDownloadPopUp:e.ab.testDownloadPopUp,isUserLoggedIn:e.user.isLoggedIn,isPaymentTrial:[1,3,5].includes(parseInt(e.ab.testTrialDownloads2,10))}))(Ue)},Qbi3:function(e,t,a){e.exports={"document-related-title":"document-related-title--Fdsvd",documentRelatedTitle:"document-related-title--Fdsvd"}},RekT:function(e,t,a){"use strict";var o=a("q1tI"),n=a.n(o),i=a("Elhd"),r=a.n(i),s=a("d2gv"),l=a.n(s),d=a("2iE4"),c=a("XpMR"),u=a.n(c);function p(){return n.a.createElement(d.t,{color:"white",component:"div",className:u.a.signIn},n.a.createElement("span",null,l.a.get("registration_have_account")),n.a.createElement("span",null," "),n.a.createElement("a",{href:r.a.route("loginView",{origin:"viewer-overlay"}),className:u.a.signInLink},l.a.get("registration_sign_in")))}t.a=n.a.memo(p)},WX8S:function(e,t,a){"use strict";var o=a("q1tI"),n=a.n(o),i=a("/MKj"),r=a("17x9"),s=a.n(r),l=a("d2gv"),d=a.n(l),c=a("YcKG"),u=a.n(c),p=a("TSYQ"),m=a.n(p),g=a("aK/1"),h=a.n(g),w=a("DHZf"),b=a("0pXI");const v={selectedViewer:s.a.number.isRequired,document:s.a.shape({title:s.a.string.isRequired,course:s.a.shape({id:s.a.number.isRequired,name:s.a.string.isRequired,code:s.a.string,institution:s.a.shape({id:s.a.number.isRequired,name:s.a.string.isRequired}).isRequired}).isRequired}).isRequired};function y({selectedViewer:e,document:t}){const a=Object(i.useDispatch)(),r=Object(o.useCallback)(()=>{a(Object(b.a)("Focus Mode Toggled"))},[a]),s=u.a.document(t)+"?md_poc=en48iy4XSBMaijvUofIb";return n.a.createElement("div",{className:h.a.wrapper},n.a.createElement("a",{href:s,className:m()(h.a.switch,{[h.a.selected]:e===w.e})},d.a.get("normal_viewer"))," | ",n.a.createElement("a",{href:s.replace("/view","/md"),className:m()(h.a.switch,{[h.a.selected]:e===w.d}),onClick:r},d.a.get("md_viewer")))}y.propTypes=v,t.a=y},XpMR:function(e,t,a){e.exports={"sign-in":"sign-in--PLSlW",signIn:"sign-in--PLSlW","sign-in-link":"sign-in-link--EO_Ic",signInLink:"sign-in-link--EO_Ic"}},Xv2y:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"g",(function(){return c})),a.d(t,"f",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"e",(function(){return m})),a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return h}));var o=a("Elhd"),n=a.n(o),i=a("QNbN"),r=a("IrSZ"),s=a("4Rjq"),l=a("newW");const d=e=>{const{pages:t,preview:a,previewCTA:o}=e.document.current,n=Object(s.f)(e);if(!a||n&&1===t)return"Full Document";const r=Object(i.m)(e)?"Trial":"Pay";return"Upload"===o?"Upload Banner":"Pay"===o?r+" Banner":null},c=e=>{const t=Object(i.c)(e);return t.userHasReachedRatingLimit},u=e=>{const t=Object(r.a)(e);return!c(e)&&null===t.user_rating&&!t.preview&&!t.isMine&&"ReviewDocumentBottomBar"!==Object(l.b)(e)&&"RateBottomBar"!==Object(l.b)(e)},p=e=>n.a.route("documentViewShortlink",{documentId:Object(r.b)(e),shareType:"u"}),m=e=>n.a.route("documentViewShortlink",{documentId:Object(r.b)(e),shareType:"z"}),g=e=>n.a.route("documentViewShortlink",{documentId:Object(r.b)(e),shareType:"y"}),h=e=>`${n.a.route("documentViewShortlink",{documentId:Object(r.b)(e),shareType:"k"})}?utm_source=facebook&utm_medium=social&utm_campaign=Document_Referral_CONVERT&utm_content=${Object(s.c)(e)}_shared_document`},"aK/1":function(e,t,a){e.exports={wrapper:"wrapper--1pq8P",switch:"switch--2QLqj",selected:"selected--3ysgm"}},aK6K:function(e,t,a){"use strict";var o=a("iM/k"),n=a("y6TR"),i=a("Xv2y");t.a=e=>(t,a)=>{var r,s,l,d,c;const{ab:u,comment:{comments:p=null},meta:m,onboarding:g,studylist:h,url:w,document:{relatedDocuments:b},user:{seenDocumentsCount:v,isLoggedIn:y,phase:C,institution:E,id:D,roleId:T,roleName:f}}=a(),R=e.premium||e.isPremium?1:0;let P;if(g.current&&!e.preview){let e;g.current[n.g]&&(e="Save Button"),P={"Onboarding Journey":e}}const _={"Document ID":e.id,Title:e.title,"New Title":e.new_title,"Page Count":e.pages,"Upload Date":new Date(e.created_at).toISOString(),"Is New":e.isNew,Downloads:e.downloads,Premium:R,Rating:e.rating,...p&&{"Comment Count":p.length},"Has Direct Book Connection":Boolean(e.book_id),"Document Upload Type":e.source,"Question Count":e.questionCount,"Document Related Document Count":(null==b?void 0:b.length)||0,"Document Language":e.language,"Document Positive Experience Probability":e.positiveExperienceProbability,...e.course&&{"Course ID":e.course.id,"Course Code":e.course.code,"Course Name":e.course.name,"Course Document Count":e.course.document_count,...e.course.institution&&{product_id:e.course.institution.id,"University ID":e.course.institution.id,"University Name":e.course.institution.name,"University Stage":e.course.institution.phase,...e.course.institution.country&&{"University Country ID":e.course.institution.country.id,"University Country Name":e.course.institution.country.name}}},"University Model":e.isFreeUniDocument?"Open":"Closed",...e.originalCategoryId&&{"Category ID":e.originalCategoryId,"Category Name":e.category_name},"User Signed In":y,"User View Count":v,"Share User ID":e.share_user_id,"Share User Name":e.share_user_name,"User Role ID":T,"User Role Name":f,"User Stage":e.stage,...E&&{"User University ID":E.id,"User University Name":E.name,"User University Stage":E.phase,"User University Country ID":null===(r=E.country)||void 0===r?void 0:r.id,"User University Country Name":null===(s=E.country)||void 0===s?void 0:s.name},...h&&{"Document Related Studylist Count":h.list.length},...P,...u.testTrialDownloads2&&{"Test Trial Downloads 2":u.testTrialDownloads2},...u.testStage4UpgradeBanner&&{"Test Stage 4 Upgrade Banner":u.testStage4UpgradeBanner},...u.testRatingsTimeRange&&{"Test Ratings Time Range":u.testRatingsTimeRange,..."15 Months"===u.testRatingsTimeRange&&{"Rating Past 15 Months":e.rating_positive-e.rating_negative},..."18 Months"===u.testRatingsTimeRange&&{"Rating Past 18 Months":e.rating_positive-e.rating_negative}},...u.testBertMetaDescription&&{"Test Bert Meta Description":u.testBertMetaDescription},...u.testMyLikedDocuments2&&{"Test My Liked Documents 2":a().ab.testMyLikedDocuments2},...u.testDocumentViewerLoginCTA&&{"Test Document Viewer Login CTA":u.testDocumentViewerLoginCTA},...null!==u.testEarlyStagePremium&&{"Test Early Stage Premium":u.testEarlyStagePremium},...u.testLoggedInStage1UploaderType&&{"Test Logged In Stage 1 Uploader Type":u.testLoggedInStage1UploaderType},...u.testDownloadPopUp&&{"Test Download Pop Up":u.testDownloadPopUp},...u.testMechanicalTurkDocumentTitles&&{"Test Mechanical Turk Document Titles":u.testMechanicalTurkDocumentTitles},...u.testExpertsExamPopup&&{"Test Experts Exam Popup":u.testExpertsExamPopup},...u.testSmallCoursesPremium&&{"Test Premium Logic for Small Courses":u.testSmallCoursesPremium},...u.testGuestAskToRateOnMobile&&{"Test Guest Ask To Rate On Mobile":u.testGuestAskToRateOnMobile},...u.testViewerType&&{"Test Viewer Type":u.testViewerType},content_ids:e.id,content_type:"product"};_["Document View Type"]=Object(i.d)(a()),w.params&&w.params.shared&&w.params&&parseInt(w.params.shared,10)&&(_["Shared Document"]="URL"),w.params&&w.params.shared&&m.socialShareTypes&&m.socialShareTypes[w.params.shared]&&(_["Shared Document"]=m.socialShareTypes[w.params.shared]),e.hasValidShareToken&&(_["Shared Document"]="Free Share");const U=Boolean(y&&(null==E?void 0:E.id)===(null===(l=e.course)||void 0===l?void 0:l.institution_id)&&(null===(d=e.course)||void 0===d?void 0:d.document_count)>=2),S=R?"Last Premium Document ID Viewed":"Last Non-Premium Document ID Viewed",O={[S]:e.id,"Last Document Book Name":null===(c=e.book)||void 0===c?void 0:c.title,"Last Document Book ID":0!==e.book_id&&e.book_id,"Last Document Course Name":U&&e.course.name,"Last Document Course ID":U&&e.course_id};return R?O["Last Viewed Premium Document Name"]=e.title:O["Last Viewed Non-Premium Document Name"]=e.title,y&&(["NO_FOCUS","CONTENT_ACQUISITION","USAGE_GROWTH"].includes(C)?(_["User University Model"]="Open",O["User University Model"]="Open"):(_["User University Model"]="Closed",O["User University Model"]="Closed")),t(Object(o.a)({name:"Document View",properties:_,people_properties:O,userId:D}))}},aVRt:function(e,t,a){"use strict";var o=a("B8p9");t.a=(e,t,a,n)=>i=>i(Object(o.a)("Related Document Clicked",{"Related Document Position":e,"Related Document Count":t,Origin:n},a))},dgVh:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return n}));const o=e=>e.document.relatedDocuments||[],n=e=>o(e).length},ihwh:function(e,t,a){e.exports={"download-popup":"download-popup--dwzkd",downloadPopup:"download-popup--dwzkd","download-popup-heading":"download-popup-heading--1D9qr",downloadPopupHeading:"download-popup-heading--1D9qr","download-popup-body":"download-popup-body--18Xbv",downloadPopupBody:"download-popup-body--18Xbv","upgrade-options":"upgrade-options--ftbBG",upgradeOptions:"upgrade-options--ftbBG","upgrade-option-title":"upgrade-option-title--2mr7V",upgradeOptionTitle:"upgrade-option-title--2mr7V","upgrade-option-text":"upgrade-option-text--2LEBU",upgradeOptionText:"upgrade-option-text--2LEBU","maybe-later-button":"maybe-later-button--2jDl_",maybeLaterButton:"maybe-later-button--2jDl_","close-popup-button":"close-popup-button--wmga_",closePopupButton:"close-popup-button--wmga_"}},nQnF:function(e,t,a){"use strict";var o=a("PQTe");t.a=e=>({type:o.d,show:e})},newW:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return i}));const o=e=>{var t;return null===(t=e.view.floatingElement)||void 0===t?void 0:t.key},n=e=>{var t;return null===(t=e.view.floatingElement)||void 0===t?void 0:t.data},i=e=>{var t,a;return(null===(t=o(e))||void 0===t?void 0:t.indexOf("BottomBar"))>-1&&(null===(a=e.view.floatingElement)||void 0===a?void 0:a.show)}},pzOl:function(e,t,a){"use strict";var o=a("q1tI"),n=a.n(o),i=a("TSYQ"),r=a.n(i),s=a("17x9"),l=a.n(s),d=a("/MKj"),c=a("d2gv"),u=a.n(c),p=a("sn8R"),m=a.n(p),g=a("4Rjq"),h=a("+EJl"),w=a("2p++");const b={document:l.a.shape({title:l.a.string.isRequired,course:l.a.shape({id:l.a.number.isRequired,name:l.a.string.isRequired,code:l.a.string,institution:l.a.shape({id:l.a.number.isRequired,name:l.a.string.isRequired}).isRequired}).isRequired}).isRequired};function v({document:e}){const t=Object(d.useSelector)(g.e);return t?n.a.createElement("div",{className:r()(m.a.details,"text-center text-white")},n.a.createElement("div",{className:"font-big font-bold"},e.title),n.a.createElement("span",null,Object(h.a)(e.course))):n.a.createElement("div",{className:r()(m.a.details,"hidden-md hidden-lg")},n.a.createElement("p",{className:"font-big text-ellipsis"},e.title),n.a.createElement("div",{className:"font-small text-light-gray"},u.a.get("course"),":"),n.a.createElement(w.a,{className:"text-ellipsis",course:e.course}))}v.propTypes=b,t.a=v},rCUD:function(e,t,a){"use strict";var o=a("q1tI"),n=a.n(o),i=a("d2gv"),r=a.n(i),s=a("17x9"),l=a.n(s),d=a("Mwj6"),c=a("Qbi3"),u=a.n(c),p=a("YcKG"),m=a.n(p),g=a("TSYQ"),h=a.n(g),w=a("clHV"),b=a("9Qyn"),v=a.n(b);const y={document:l.a.shape({id:l.a.number.isRequired,title:l.a.string.isRequired,category:l.a.object,pages:l.a.number,isPremium:l.a.bool,isApproved:l.a.bool,activeFile:l.a.shape({pages:l.a.number.isRequired}),isNew:l.a.bool,academicYear:l.a.string,rating:l.a.object,userStudylistIds:l.a.array}).isRequired,onClick:l.a.func.isRequired},C=({document:e,onClick:t})=>n.a.createElement("a",{key:e.id,href:m.a.document(e),onClick:t,className:h()("ic-text",v.a.documentLine),title:e.title},n.a.createElement(w.a,null),n.a.createElement("span",{className:v.a.documentTitle},e.title));C.propTypes=y;var E=C;const D={cdn:l.a.shape({cdn_enabled:l.a.bool}).isRequired,relatedDocuments:l.a.arrayOf(l.a.shape({id:l.a.number.isRequired,title:l.a.string.isRequired,category:l.a.object,pages:l.a.number,isPremium:l.a.bool,isApproved:l.a.bool,activeFile:l.a.shape({pages:l.a.number.isRequired}),isNew:l.a.bool,academicYear:l.a.string,rating:l.a.object,userStudylistIds:l.a.array})),onRelatedDocumentClicked:l.a.func.isRequired,dataTestSelector:l.a.string,className:l.a.string},T=({relatedDocuments:e=[],dataTestSelector:t=null,onRelatedDocumentClicked:a,className:i=null})=>{const s=Object(o.useCallback)((e,t,o,n)=>{const i=Object(d.a)(e);e.preventDefault(),a(t,o,n,i)},[a]);return n.a.createElement("div",{className:i},n.a.createElement("div",{className:u.a.documentRelatedTitle},r.a.get("related_documents")),e.map((t,a)=>n.a.createElement(E,{key:t.id,document:t,onClick:o=>{s(o,e.length,a+1,t)}})))};T.propTypes=D;t.a=T},rpeB:function(e,t,a){e.exports={button:"button--2PdnD",text:"text--AOsIQ",green:"green--3iP5Z"}},sn8R:function(e,t,a){e.exports={details:"details--FGhuY"}},xVrC:function(e,t,a){"use strict";var o=a("0pXI"),n=a("Xv2y"),i=a("IrSZ"),r=a("dgVh");var s=(e,t)=>(a,s)=>{const l=s();return a(Object(o.a)("Document Viewer Sidebar Toggled",{"Toggle Action":e?"Close":"Open","Toggle Origin":t,"Document ID":Object(i.b)(l),"Document Page Count":Object(i.d)(l),"Document Related Document Count":Object(r.a)(l),"Document Is Premium":Object(i.c)(l),"Document View Type":Object(n.d)(l)}))},l=a("BdiA"),d=a("O84i");t.a=e=>(t,a)=>{const o=Object(d.c)(a());return t(s(o,e)),t(Object(l.a)(!o))}}}]);